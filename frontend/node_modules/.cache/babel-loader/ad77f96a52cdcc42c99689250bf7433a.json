{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport React, { PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport Select from 'react-select';\nimport createFocusTrap from 'focus-trap';\nimport { Manager, Reference, Popper } from 'react-popper';\nimport NodeResolver from 'react-node-resolver';\nimport shallowEqualObjects from 'shallow-equal/objects';\nimport { colors } from '@atlaskit/theme';\nimport { MenuDialog, DummyControl, defaultComponents } from './components';\n/** Are we rendering on the client or server? */\n\nvar canUseDOM = function canUseDOM() {\n  return Boolean(typeof window !== 'undefined' && window.document && window.document.createElement);\n}; // ==============================\n// Types\n// ==============================\n// ==============================\n// Class\n// ==============================\n\n\nvar defaultStyles = {\n  groupHeading: function groupHeading(provided) {\n    return _objectSpread({}, provided, {\n      color: colors.N80\n    });\n  }\n};\nvar defaultPopperProps = {\n  modifiers: {\n    offset: {\n      offset: \"0, 8\"\n    }\n  },\n  placement: 'bottom-start'\n};\n\nvar isEmpty = function isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n};\n\nvar PopupSelect = /*#__PURE__*/function (_PureComponent) {\n  _inherits(PopupSelect, _PureComponent);\n\n  function PopupSelect() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PopupSelect);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PopupSelect)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"focusTrap\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"menuRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"selectRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"targetRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      isOpen: false,\n      mergedComponents: defaultComponents,\n      mergedPopperProps: defaultPopperProps\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (_ref) {\n      var key = _ref.key;\n\n      switch (key) {\n        case 'Escape':\n          _this.close();\n\n          break;\n\n        default:\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleClick\", function (_ref2) {\n      var target = _ref2.target;\n      var isOpen = _this.state.isOpen; // appease flow\n\n      if (!(target instanceof Element)) return; // NOTE: Why not use the <Blanket /> component to close?\n      // We don't want to interupt the user's flow. Taking this approach allows\n      // user to click \"through\" to other elements and close the popout.\n\n      if (isOpen && !_this.menuRef.contains(target)) {\n        _this.close();\n      } // open on target click -- we can't trust consumers to spread the onClick\n      // property to the target\n\n\n      if (!isOpen && _this.targetRef.contains(target)) {\n        _this.open();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSelectChange\", function (value, actionMeta) {\n      var _this$props = _this.props,\n          closeMenuOnSelect = _this$props.closeMenuOnSelect,\n          onChange = _this$props.onChange;\n      if (closeMenuOnSelect) _this.close();\n      if (onChange) onChange(value, actionMeta);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"open\", function () {\n      var onOpen = _this.props.onOpen;\n      if (onOpen) onOpen();\n\n      _this.setState({\n        isOpen: true\n      }, _this.initialiseFocusTrap);\n\n      _this.selectRef.select.focusOption('first'); // HACK\n\n\n      if (typeof window === 'undefined') return;\n      window.addEventListener('keydown', _this.handleKeyDown);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"initialiseFocusTrap\", function () {\n      var trapConfig = {\n        clickOutsideDeactivates: true,\n        escapeDeactivates: true,\n        fallbackFocus: _this.menuRef,\n        returnFocusOnDeactivate: true\n      };\n      _this.focusTrap = createFocusTrap(_this.menuRef, trapConfig); // allow time for the HTMLElement to render\n\n      setTimeout(function () {\n        return _this.focusTrap.activate();\n      }, 1);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"close\", function () {\n      var onClose = _this.props.onClose;\n      if (onClose) onClose();\n\n      _this.setState({\n        isOpen: false\n      });\n\n      _this.focusTrap.deactivate();\n\n      if (typeof window === 'undefined') return;\n      window.removeEventListener('keydown', _this.handleKeyDown);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"resolveTargetRef\", function (popperRef) {\n      return function (ref) {\n        _this.targetRef = ref;\n        popperRef(ref);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"resolveMenuRef\", function (popperRef) {\n      return function (ref) {\n        _this.menuRef = ref;\n        popperRef(ref);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getSelectRef\", function (ref) {\n      _this.selectRef = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getItemCount\", function () {\n      var options = _this.props.options;\n      var count = 0;\n      options.forEach(function (groupOrOption) {\n        if (groupOrOption.options) {\n          groupOrOption.options.forEach(function () {\n            return count++;\n          });\n        } else {\n          count++;\n        }\n      });\n      return count;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getMaxHeight\", function () {\n      var maxMenuHeight = _this.props.maxMenuHeight;\n      if (!_this.selectRef) return maxMenuHeight; // subtract the control height to maintain consistency\n\n      var showSearchControl = _this.showSearchControl();\n\n      var offsetHeight = showSearchControl ? _this.selectRef.select.controlRef.offsetHeight : 0;\n      var maxHeight = maxMenuHeight - offsetHeight;\n      return maxHeight;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"showSearchControl\", function () {\n      var searchThreshold = _this.props.searchThreshold;\n      return _this.getItemCount() > searchThreshold;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderSelect\", function () {\n      var _this$props2 = _this.props,\n          footer = _this$props2.footer,\n          maxMenuWidth = _this$props2.maxMenuWidth,\n          minMenuWidth = _this$props2.minMenuWidth,\n          target = _this$props2.target,\n          props = _objectWithoutProperties(_this$props2, [\"footer\", \"maxMenuWidth\", \"minMenuWidth\", \"target\"]);\n\n      var _this$state = _this.state,\n          isOpen = _this$state.isOpen,\n          mergedComponents = _this$state.mergedComponents,\n          mergedPopperProps = _this$state.mergedPopperProps;\n\n      var showSearchControl = _this.showSearchControl();\n\n      var portalDestination = canUseDOM() ? document.body : null;\n\n      var components = _objectSpread({}, mergedComponents, {\n        Control: showSearchControl ? mergedComponents.Control : DummyControl\n      });\n\n      if (!portalDestination || !isOpen) return null;\n      var popper = React.createElement(Popper, mergedPopperProps, function (_ref3) {\n        var placement = _ref3.placement,\n            ref = _ref3.ref,\n            style = _ref3.style;\n        return React.createElement(NodeResolver, {\n          innerRef: _this.resolveMenuRef(ref)\n        }, React.createElement(MenuDialog, {\n          style: style,\n          \"data-placement\": placement,\n          minWidth: minMenuWidth,\n          maxWidth: maxMenuWidth\n        }, React.createElement(Select, _extends({\n          backspaceRemovesValue: false,\n          controlShouldRenderValue: false,\n          isClearable: false,\n          tabSelectsValue: false,\n          menuIsOpen: true,\n          ref: _this.getSelectRef\n        }, props, {\n          styles: _objectSpread({}, defaultStyles, props.styles),\n          maxMenuHeight: _this.getMaxHeight(),\n          components: components,\n          onChange: _this.handleSelectChange\n        })), footer));\n      });\n      return mergedPopperProps.positionFixed ? popper : createPortal(popper, portalDestination);\n    });\n\n    return _this;\n  }\n\n  _createClass(PopupSelect, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (typeof window === 'undefined') return;\n      window.addEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (typeof window === 'undefined') return;\n      window.removeEventListener('click', this.handleClick);\n    } // Event Handlers\n    // ==============================\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var target = this.props.target;\n      return React.createElement(Manager, null, React.createElement(Reference, null, function (_ref4) {\n        var ref = _ref4.ref;\n        return React.createElement(NodeResolver, {\n          innerRef: _this2.resolveTargetRef(ref)\n        }, target);\n      }), this.renderSelect());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var newState = {}; // Merge consumer and default popper props\n\n      var mergedPopperProps = _objectSpread({}, defaultPopperProps, props.popperProps);\n\n      if (!shallowEqualObjects(mergedPopperProps, state.mergedPopperProps)) {\n        newState.mergedPopperProps = mergedPopperProps;\n      } // Merge consumer and default components\n\n\n      var mergedComponents = _objectSpread({}, defaultComponents, props.components);\n\n      if (!shallowEqualObjects(mergedComponents, state.mergedComponents)) {\n        newState.mergedComponents = mergedComponents;\n      }\n\n      if (!isEmpty(newState)) return newState;\n      return null;\n    }\n  }]);\n\n  return PopupSelect;\n}(PureComponent);\n\n_defineProperty(PopupSelect, \"defaultProps\", {\n  closeMenuOnSelect: true,\n  components: {},\n  maxMenuHeight: 300,\n  maxMenuWidth: 440,\n  minMenuWidth: 220,\n  popperProps: {},\n  searchThreshold: 5,\n  styles: {}\n});\n\nexport { PopupSelect as default };","map":{"version":3,"sources":["/Users/niharikatomar/Desktop/rr/restaurant-roulette/frontend/node_modules/@atlaskit/select/dist/esm/PopupSelect/Select.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_assertThisInitialized","_defineProperty","_objectSpread","React","PureComponent","createPortal","Select","createFocusTrap","Manager","Reference","Popper","NodeResolver","shallowEqualObjects","colors","MenuDialog","DummyControl","defaultComponents","canUseDOM","Boolean","window","document","createElement","defaultStyles","groupHeading","provided","color","N80","defaultPopperProps","modifiers","offset","placement","isEmpty","obj","Object","keys","length","PopupSelect","_PureComponent","_getPrototypeOf2","_this","_len","arguments","args","Array","_key","call","apply","concat","isOpen","mergedComponents","mergedPopperProps","_ref","key","close","_ref2","target","state","Element","menuRef","contains","targetRef","open","value","actionMeta","_this$props","props","closeMenuOnSelect","onChange","onOpen","setState","initialiseFocusTrap","selectRef","select","focusOption","addEventListener","handleKeyDown","trapConfig","clickOutsideDeactivates","escapeDeactivates","fallbackFocus","returnFocusOnDeactivate","focusTrap","setTimeout","activate","onClose","deactivate","removeEventListener","popperRef","ref","options","count","forEach","groupOrOption","maxMenuHeight","showSearchControl","offsetHeight","controlRef","maxHeight","searchThreshold","getItemCount","_this$props2","footer","maxMenuWidth","minMenuWidth","_this$state","portalDestination","body","components","Control","popper","_ref3","style","innerRef","resolveMenuRef","minWidth","maxWidth","backspaceRemovesValue","controlShouldRenderValue","isClearable","tabSelectsValue","menuIsOpen","getSelectRef","styles","getMaxHeight","handleSelectChange","positionFixed","componentDidMount","handleClick","componentWillUnmount","render","_this2","_ref4","resolveTargetRef","renderSelect","getDerivedStateFromProps","newState","popperProps","default"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread\";\nimport React, { PureComponent } from 'react';\nimport { createPortal } from 'react-dom';\nimport Select from 'react-select';\nimport createFocusTrap from 'focus-trap';\nimport { Manager, Reference, Popper } from 'react-popper';\nimport NodeResolver from 'react-node-resolver';\nimport shallowEqualObjects from 'shallow-equal/objects';\nimport { colors } from '@atlaskit/theme';\nimport { MenuDialog, DummyControl, defaultComponents } from './components';\n/** Are we rendering on the client or server? */\n\nvar canUseDOM = function canUseDOM() {\n  return Boolean(typeof window !== 'undefined' && window.document && window.document.createElement);\n}; // ==============================\n// Types\n// ==============================\n\n\n// ==============================\n// Class\n// ==============================\nvar defaultStyles = {\n  groupHeading: function groupHeading(provided) {\n    return _objectSpread({}, provided, {\n      color: colors.N80\n    });\n  }\n};\nvar defaultPopperProps = {\n  modifiers: {\n    offset: {\n      offset: \"0, 8\"\n    }\n  },\n  placement: 'bottom-start'\n};\n\nvar isEmpty = function isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n};\n\nvar PopupSelect =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(PopupSelect, _PureComponent);\n\n  function PopupSelect() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, PopupSelect);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(PopupSelect)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"focusTrap\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"menuRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"selectRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"targetRef\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      isOpen: false,\n      mergedComponents: defaultComponents,\n      mergedPopperProps: defaultPopperProps\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleKeyDown\", function (_ref) {\n      var key = _ref.key;\n\n      switch (key) {\n        case 'Escape':\n          _this.close();\n\n          break;\n\n        default:\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleClick\", function (_ref2) {\n      var target = _ref2.target;\n      var isOpen = _this.state.isOpen; // appease flow\n\n      if (!(target instanceof Element)) return; // NOTE: Why not use the <Blanket /> component to close?\n      // We don't want to interupt the user's flow. Taking this approach allows\n      // user to click \"through\" to other elements and close the popout.\n\n      if (isOpen && !_this.menuRef.contains(target)) {\n        _this.close();\n      } // open on target click -- we can't trust consumers to spread the onClick\n      // property to the target\n\n\n      if (!isOpen && _this.targetRef.contains(target)) {\n        _this.open();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"handleSelectChange\", function (value, actionMeta) {\n      var _this$props = _this.props,\n          closeMenuOnSelect = _this$props.closeMenuOnSelect,\n          onChange = _this$props.onChange;\n      if (closeMenuOnSelect) _this.close();\n      if (onChange) onChange(value, actionMeta);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"open\", function () {\n      var onOpen = _this.props.onOpen;\n      if (onOpen) onOpen();\n\n      _this.setState({\n        isOpen: true\n      }, _this.initialiseFocusTrap);\n\n      _this.selectRef.select.focusOption('first'); // HACK\n\n\n      if (typeof window === 'undefined') return;\n      window.addEventListener('keydown', _this.handleKeyDown);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"initialiseFocusTrap\", function () {\n      var trapConfig = {\n        clickOutsideDeactivates: true,\n        escapeDeactivates: true,\n        fallbackFocus: _this.menuRef,\n        returnFocusOnDeactivate: true\n      };\n      _this.focusTrap = createFocusTrap(_this.menuRef, trapConfig); // allow time for the HTMLElement to render\n\n      setTimeout(function () {\n        return _this.focusTrap.activate();\n      }, 1);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"close\", function () {\n      var onClose = _this.props.onClose;\n      if (onClose) onClose();\n\n      _this.setState({\n        isOpen: false\n      });\n\n      _this.focusTrap.deactivate();\n\n      if (typeof window === 'undefined') return;\n      window.removeEventListener('keydown', _this.handleKeyDown);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"resolveTargetRef\", function (popperRef) {\n      return function (ref) {\n        _this.targetRef = ref;\n        popperRef(ref);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"resolveMenuRef\", function (popperRef) {\n      return function (ref) {\n        _this.menuRef = ref;\n        popperRef(ref);\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getSelectRef\", function (ref) {\n      _this.selectRef = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getItemCount\", function () {\n      var options = _this.props.options;\n      var count = 0;\n      options.forEach(function (groupOrOption) {\n        if (groupOrOption.options) {\n          groupOrOption.options.forEach(function () {\n            return count++;\n          });\n        } else {\n          count++;\n        }\n      });\n      return count;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"getMaxHeight\", function () {\n      var maxMenuHeight = _this.props.maxMenuHeight;\n      if (!_this.selectRef) return maxMenuHeight; // subtract the control height to maintain consistency\n\n      var showSearchControl = _this.showSearchControl();\n\n      var offsetHeight = showSearchControl ? _this.selectRef.select.controlRef.offsetHeight : 0;\n      var maxHeight = maxMenuHeight - offsetHeight;\n      return maxHeight;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"showSearchControl\", function () {\n      var searchThreshold = _this.props.searchThreshold;\n      return _this.getItemCount() > searchThreshold;\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"renderSelect\", function () {\n      var _this$props2 = _this.props,\n          footer = _this$props2.footer,\n          maxMenuWidth = _this$props2.maxMenuWidth,\n          minMenuWidth = _this$props2.minMenuWidth,\n          target = _this$props2.target,\n          props = _objectWithoutProperties(_this$props2, [\"footer\", \"maxMenuWidth\", \"minMenuWidth\", \"target\"]);\n\n      var _this$state = _this.state,\n          isOpen = _this$state.isOpen,\n          mergedComponents = _this$state.mergedComponents,\n          mergedPopperProps = _this$state.mergedPopperProps;\n\n      var showSearchControl = _this.showSearchControl();\n\n      var portalDestination = canUseDOM() ? document.body : null;\n\n      var components = _objectSpread({}, mergedComponents, {\n        Control: showSearchControl ? mergedComponents.Control : DummyControl\n      });\n\n      if (!portalDestination || !isOpen) return null;\n      var popper = React.createElement(Popper, mergedPopperProps, function (_ref3) {\n        var placement = _ref3.placement,\n            ref = _ref3.ref,\n            style = _ref3.style;\n        return React.createElement(NodeResolver, {\n          innerRef: _this.resolveMenuRef(ref)\n        }, React.createElement(MenuDialog, {\n          style: style,\n          \"data-placement\": placement,\n          minWidth: minMenuWidth,\n          maxWidth: maxMenuWidth\n        }, React.createElement(Select, _extends({\n          backspaceRemovesValue: false,\n          controlShouldRenderValue: false,\n          isClearable: false,\n          tabSelectsValue: false,\n          menuIsOpen: true,\n          ref: _this.getSelectRef\n        }, props, {\n          styles: _objectSpread({}, defaultStyles, props.styles),\n          maxMenuHeight: _this.getMaxHeight(),\n          components: components,\n          onChange: _this.handleSelectChange\n        })), footer));\n      });\n      return mergedPopperProps.positionFixed ? popper : createPortal(popper, portalDestination);\n    });\n\n    return _this;\n  }\n\n  _createClass(PopupSelect, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (typeof window === 'undefined') return;\n      window.addEventListener('click', this.handleClick);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (typeof window === 'undefined') return;\n      window.removeEventListener('click', this.handleClick);\n    } // Event Handlers\n    // ==============================\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var target = this.props.target;\n      return React.createElement(Manager, null, React.createElement(Reference, null, function (_ref4) {\n        var ref = _ref4.ref;\n        return React.createElement(NodeResolver, {\n          innerRef: _this2.resolveTargetRef(ref)\n        }, target);\n      }), this.renderSelect());\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(props, state) {\n      var newState = {}; // Merge consumer and default popper props\n\n      var mergedPopperProps = _objectSpread({}, defaultPopperProps, props.popperProps);\n\n      if (!shallowEqualObjects(mergedPopperProps, state.mergedPopperProps)) {\n        newState.mergedPopperProps = mergedPopperProps;\n      } // Merge consumer and default components\n\n\n      var mergedComponents = _objectSpread({}, defaultComponents, props.components);\n\n      if (!shallowEqualObjects(mergedComponents, state.mergedComponents)) {\n        newState.mergedComponents = mergedComponents;\n      }\n\n      if (!isEmpty(newState)) return newState;\n      return null;\n    }\n  }]);\n\n  return PopupSelect;\n}(PureComponent);\n\n_defineProperty(PopupSelect, \"defaultProps\", {\n  closeMenuOnSelect: true,\n  components: {},\n  maxMenuHeight: 300,\n  maxMenuWidth: 440,\n  minMenuWidth: 220,\n  popperProps: {},\n  searchThreshold: 5,\n  styles: {}\n});\n\nexport { PopupSelect as default };"]},"metadata":{},"sourceType":"module"}