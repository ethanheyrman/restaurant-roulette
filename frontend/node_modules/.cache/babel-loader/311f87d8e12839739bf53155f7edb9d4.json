{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { Component } from 'react';\nimport FieldBaseStateless from './FieldBaseStateless';\nvar ON_BLUR_KEY = 'onBlurKey';\nvar ON_CONTENT_BLUR_KEY = 'onContentBlurKey';\n\nfunction waitForRender(cb) {\n  // Execute the callback after any upcoming render calls in the execution queue\n  setTimeout(cb, 0);\n}\n\nvar FieldBase = /*#__PURE__*/function (_Component) {\n  _inherits(FieldBase, _Component);\n\n  function FieldBase() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FieldBase);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FieldBase)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      isFocused: _this.props.defaultIsFocused,\n      isDialogFocused: false,\n      shouldIgnoreNextDialogBlur: false\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"timers\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onFocus\", function (e) {\n      _this.setState({\n        isFocused: true\n      });\n\n      _this.props.onFocus(e); // Escape from a possible race-condition when blur and focus happen one by one\n      // (otherwise the dialog might be left closed)\n\n\n      _this.cancelSchedule(ON_BLUR_KEY);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onBlur\", function (e) {\n      // Because the blur event fires before the focus event, we want to make sure that we don't\n      // render and close the dialog before we can check if the dialog is focused.\n      _this.reschedule(ON_BLUR_KEY, function () {\n        _this.setState({\n          isFocused: false\n        });\n\n        _this.props.onBlur(e);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onContentFocus\", function () {\n      if (_this.state.isDialogFocused) {\n        // If we are tabbing between two elements in the warning dialog, we need to prevent the\n        // dialog from closing.\n        _this.setState({\n          shouldIgnoreNextDialogBlur: true\n        });\n      } else {\n        _this.setState({\n          isDialogFocused: true\n        });\n      } // Escape from a possible race-condition when blur and focus happen one by one\n      // (otherwise the dialog might be left closed)\n\n\n      _this.cancelSchedule(ON_CONTENT_BLUR_KEY);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onContentBlur\", function () {\n      waitForRender(function () {\n        if (_this.state.shouldIgnoreNextDialogBlur) {\n          // Ignore the blur event if we are still focused in the dialog.\n          _this.setState({\n            shouldIgnoreNextDialogBlur: false\n          });\n        } else {\n          _this.setState({\n            isDialogFocused: false\n          });\n        }\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(FieldBase, [{\n    key: \"cancelSchedule\",\n    value: function cancelSchedule(key) {\n      this.timers = this.timers || {};\n\n      if (this.timers[key]) {\n        clearTimeout(this.timers[key]);\n        delete this.timers[key];\n      }\n    }\n  }, {\n    key: \"reschedule\",\n    value: function reschedule(key, callback) {\n      var _this2 = this; // Use reschedule (not just schedule) to avoid race conditions when multiple blur events\n      // happen one by one.\n\n\n      this.timers = this.timers || {};\n      this.cancelSchedule(key);\n      this.timers[key] = setTimeout(function () {\n        callback();\n\n        _this2.cancelSchedule(key);\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelSchedule(ON_BLUR_KEY);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          defaultIsFocused = _this$props.defaultIsFocused,\n          props = _objectWithoutProperties(_this$props, [\"defaultIsFocused\"]);\n\n      var _this$state = this.state,\n          isFocused = _this$state.isFocused,\n          isDialogFocused = _this$state.isDialogFocused;\n      return React.createElement(FieldBaseStateless, _extends({}, props, {\n        isDialogOpen: isFocused || isDialogFocused,\n        isFocused: isFocused,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus,\n        onDialogFocus: this.onContentFocus,\n        onDialogBlur: this.onContentBlur\n      }));\n    }\n  }]);\n\n  return FieldBase;\n}(Component);\n\n_defineProperty(FieldBase, \"defaultProps\", {\n  defaultIsFocused: false,\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {}\n});\n\nexport { FieldBase as default };","map":{"version":3,"sources":["/Users/niharikatomar/Desktop/rr/restaurant-roulette/frontend/node_modules/@atlaskit/field-base/dist/esm/components/FieldBase.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_createClass","_possibleConstructorReturn","_getPrototypeOf","_inherits","_assertThisInitialized","_defineProperty","React","Component","FieldBaseStateless","ON_BLUR_KEY","ON_CONTENT_BLUR_KEY","waitForRender","cb","setTimeout","FieldBase","_Component","_getPrototypeOf2","_this","_len","arguments","length","args","Array","_key","call","apply","concat","isFocused","props","defaultIsFocused","isDialogFocused","shouldIgnoreNextDialogBlur","e","setState","onFocus","cancelSchedule","reschedule","onBlur","state","key","value","timers","clearTimeout","callback","_this2","componentWillUnmount","render","_this$props","_this$state","createElement","isDialogOpen","onDialogFocus","onContentFocus","onDialogBlur","onContentBlur","default"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport React, { Component } from 'react';\nimport FieldBaseStateless from './FieldBaseStateless';\nvar ON_BLUR_KEY = 'onBlurKey';\nvar ON_CONTENT_BLUR_KEY = 'onContentBlurKey';\n\nfunction waitForRender(cb) {\n  // Execute the callback after any upcoming render calls in the execution queue\n  setTimeout(cb, 0);\n}\n\nvar FieldBase =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(FieldBase, _Component);\n\n  function FieldBase() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, FieldBase);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(FieldBase)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      isFocused: _this.props.defaultIsFocused,\n      isDialogFocused: false,\n      shouldIgnoreNextDialogBlur: false\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"timers\", void 0);\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onFocus\", function (e) {\n      _this.setState({\n        isFocused: true\n      });\n\n      _this.props.onFocus(e); // Escape from a possible race-condition when blur and focus happen one by one\n      // (otherwise the dialog might be left closed)\n\n\n      _this.cancelSchedule(ON_BLUR_KEY);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onBlur\", function (e) {\n      // Because the blur event fires before the focus event, we want to make sure that we don't\n      // render and close the dialog before we can check if the dialog is focused.\n      _this.reschedule(ON_BLUR_KEY, function () {\n        _this.setState({\n          isFocused: false\n        });\n\n        _this.props.onBlur(e);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onContentFocus\", function () {\n      if (_this.state.isDialogFocused) {\n        // If we are tabbing between two elements in the warning dialog, we need to prevent the\n        // dialog from closing.\n        _this.setState({\n          shouldIgnoreNextDialogBlur: true\n        });\n      } else {\n        _this.setState({\n          isDialogFocused: true\n        });\n      } // Escape from a possible race-condition when blur and focus happen one by one\n      // (otherwise the dialog might be left closed)\n\n\n      _this.cancelSchedule(ON_CONTENT_BLUR_KEY);\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"onContentBlur\", function () {\n      waitForRender(function () {\n        if (_this.state.shouldIgnoreNextDialogBlur) {\n          // Ignore the blur event if we are still focused in the dialog.\n          _this.setState({\n            shouldIgnoreNextDialogBlur: false\n          });\n        } else {\n          _this.setState({\n            isDialogFocused: false\n          });\n        }\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(FieldBase, [{\n    key: \"cancelSchedule\",\n    value: function cancelSchedule(key) {\n      this.timers = this.timers || {};\n\n      if (this.timers[key]) {\n        clearTimeout(this.timers[key]);\n        delete this.timers[key];\n      }\n    }\n  }, {\n    key: \"reschedule\",\n    value: function reschedule(key, callback) {\n      var _this2 = this;\n\n      // Use reschedule (not just schedule) to avoid race conditions when multiple blur events\n      // happen one by one.\n      this.timers = this.timers || {};\n      this.cancelSchedule(key);\n      this.timers[key] = setTimeout(function () {\n        callback();\n\n        _this2.cancelSchedule(key);\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.cancelSchedule(ON_BLUR_KEY);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          defaultIsFocused = _this$props.defaultIsFocused,\n          props = _objectWithoutProperties(_this$props, [\"defaultIsFocused\"]);\n\n      var _this$state = this.state,\n          isFocused = _this$state.isFocused,\n          isDialogFocused = _this$state.isDialogFocused;\n      return React.createElement(FieldBaseStateless, _extends({}, props, {\n        isDialogOpen: isFocused || isDialogFocused,\n        isFocused: isFocused,\n        onBlur: this.onBlur,\n        onFocus: this.onFocus,\n        onDialogFocus: this.onContentFocus,\n        onDialogBlur: this.onContentBlur\n      }));\n    }\n  }]);\n\n  return FieldBase;\n}(Component);\n\n_defineProperty(FieldBase, \"defaultProps\", {\n  defaultIsFocused: false,\n  onFocus: function onFocus() {},\n  onBlur: function onBlur() {}\n});\n\nexport { FieldBase as default };"]},"metadata":{},"sourceType":"module"}