{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _isEqual = require(\"lodash/isEqual\");\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _FormContext = require(\"./FormContext\");\n\nvar _FormContext2 = _interopRequireDefault(_FormContext);\n\nrequire(\"./FieldWrapper.css\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar FieldWrapper = function (_React$Component) {\n  _inherits(FieldWrapper, _React$Component);\n\n  function FieldWrapper(props) {\n    _classCallCheck(this, FieldWrapper);\n\n    var _this = _possibleConstructorReturn(this, (FieldWrapper.__proto__ || Object.getPrototypeOf(FieldWrapper)).call(this, props));\n\n    var registerField = props.registerField,\n        onFieldChange = props.onFieldChange,\n        fieldDef = _objectWithoutProperties(props, [\"registerField\", \"onFieldChange\"]);\n\n    if (registerField) {\n      registerField(fieldDef);\n    } else {\n      console.warn(\"Could not register field because registerField function was missing\", fieldDef);\n    }\n\n    return _this;\n  }\n\n  _createClass(FieldWrapper, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var conditionalUpdate = nextProps.conditionalUpdate;\n\n      if (nextProps.conditionalUpdate) {\n        // TODO: Ideally options, onFieldChange, registerField and fields should NOT be changing - need to investigate this\n        var c1 = nextProps.children,\n            pc1 = nextProps.parentContext,\n            ofc1 = nextProps.onFieldChange,\n            off1 = nextProps.onFieldFocus,\n            ofb1 = nextProps.onFieldBlur,\n            o1 = nextProps.options,\n            rf1 = nextProps.registerField,\n            f1 = nextProps.fields,\n            next = _objectWithoutProperties(nextProps, [\"children\", \"parentContext\", \"onFieldChange\", \"onFieldFocus\", \"onFieldBlur\", \"options\", \"registerField\", \"fields\"]);\n\n        var _props = this.props,\n            c2 = _props.children,\n            pc2 = _props.parentContext,\n            ofc2 = _props.onFieldChange,\n            off2 = _props.onFieldFocus,\n            ofb2 = _props.onFieldBlur,\n            o2 = _props.options,\n            rf2 = _props.registerField,\n            f2 = _props.fields,\n            current = _objectWithoutProperties(_props, [\"children\", \"parentContext\", \"onFieldChange\", \"onFieldFocus\", \"onFieldBlur\", \"options\", \"registerField\", \"fields\"]); // This is causing individually field definitions to fail to be rendered, but without this\n        // the form builder performance is poor :(\n\n\n        if ((0, _isEqual2.default)(next, current)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          id = _props2.id,\n          _props2$fields = _props2.fields,\n          fields = _props2$fields === undefined ? [] : _props2$fields,\n          onFieldChange = _props2.onFieldChange,\n          onFieldFocus = _props2.onFieldFocus,\n          onFieldBlur = _props2.onFieldBlur,\n          children = _props2.children;\n      var fieldToRender = fields.find(function (field) {\n        return field.id === id;\n      });\n\n      if (fieldToRender && fieldToRender.visible) {\n        var processedChildren = _react2.default.Children.map(children, function (child) {\n          return _react2.default.cloneElement(child, _extends({\n            onFieldChange: onFieldChange,\n            onFieldFocus: onFieldFocus,\n            onFieldBlur: onFieldBlur\n          }, fieldToRender));\n        });\n\n        var description = fieldToRender.description,\n            _id = fieldToRender.id;\n        return _react2.default.createElement(\"div\", {\n          className: \"layout\",\n          id: _id\n        }, processedChildren);\n      }\n\n      return null;\n    }\n  }]);\n\n  return FieldWrapper;\n}(_react2.default.Component);\n\nexports.default = function (props) {\n  return _react2.default.createElement(_FormContext2.default.Consumer, null, function (form) {\n    return _react2.default.createElement(FieldWrapper, _extends({}, form, props), props.children);\n  });\n};","map":{"version":3,"sources":["/Users/niharikatomar/Desktop/rr/restaurant-roulette/frontend/node_modules/react-forms-processor/dist/components/FieldWrapper.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_isEqual","_isEqual2","_FormContext","_FormContext2","obj","__esModule","default","_objectWithoutProperties","keys","indexOf","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","FieldWrapper","_React$Component","_this","getPrototypeOf","registerField","onFieldChange","fieldDef","console","warn","shouldComponentUpdate","nextProps","nextState","conditionalUpdate","c1","children","pc1","parentContext","ofc1","off1","onFieldFocus","ofb1","onFieldBlur","o1","options","rf1","f1","fields","next","_props","c2","pc2","ofc2","off2","ofb2","o2","rf2","f2","current","render","_props2","id","_props2$fields","undefined","fieldToRender","find","field","visible","processedChildren","Children","map","child","cloneElement","description","_id","createElement","className","Component","Consumer","form"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _isEqual = require(\"lodash/isEqual\");\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _FormContext = require(\"./FormContext\");\n\nvar _FormContext2 = _interopRequireDefault(_FormContext);\n\nrequire(\"./FieldWrapper.css\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FieldWrapper = function (_React$Component) {\n  _inherits(FieldWrapper, _React$Component);\n\n  function FieldWrapper(props) {\n    _classCallCheck(this, FieldWrapper);\n\n    var _this = _possibleConstructorReturn(this, (FieldWrapper.__proto__ || Object.getPrototypeOf(FieldWrapper)).call(this, props));\n\n    var registerField = props.registerField,\n        onFieldChange = props.onFieldChange,\n        fieldDef = _objectWithoutProperties(props, [\"registerField\", \"onFieldChange\"]);\n\n    if (registerField) {\n      registerField(fieldDef);\n    } else {\n      console.warn(\"Could not register field because registerField function was missing\", fieldDef);\n    }\n    return _this;\n  }\n\n  _createClass(FieldWrapper, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      var conditionalUpdate = nextProps.conditionalUpdate;\n\n      if (nextProps.conditionalUpdate) {\n        // TODO: Ideally options, onFieldChange, registerField and fields should NOT be changing - need to investigate this\n        var c1 = nextProps.children,\n            pc1 = nextProps.parentContext,\n            ofc1 = nextProps.onFieldChange,\n            off1 = nextProps.onFieldFocus,\n            ofb1 = nextProps.onFieldBlur,\n            o1 = nextProps.options,\n            rf1 = nextProps.registerField,\n            f1 = nextProps.fields,\n            next = _objectWithoutProperties(nextProps, [\"children\", \"parentContext\", \"onFieldChange\", \"onFieldFocus\", \"onFieldBlur\", \"options\", \"registerField\", \"fields\"]);\n\n        var _props = this.props,\n            c2 = _props.children,\n            pc2 = _props.parentContext,\n            ofc2 = _props.onFieldChange,\n            off2 = _props.onFieldFocus,\n            ofb2 = _props.onFieldBlur,\n            o2 = _props.options,\n            rf2 = _props.registerField,\n            f2 = _props.fields,\n            current = _objectWithoutProperties(_props, [\"children\", \"parentContext\", \"onFieldChange\", \"onFieldFocus\", \"onFieldBlur\", \"options\", \"registerField\", \"fields\"]);\n\n        // This is causing individually field definitions to fail to be rendered, but without this\n        // the form builder performance is poor :(\n\n\n        if ((0, _isEqual2.default)(next, current)) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          id = _props2.id,\n          _props2$fields = _props2.fields,\n          fields = _props2$fields === undefined ? [] : _props2$fields,\n          onFieldChange = _props2.onFieldChange,\n          onFieldFocus = _props2.onFieldFocus,\n          onFieldBlur = _props2.onFieldBlur,\n          children = _props2.children;\n\n      var fieldToRender = fields.find(function (field) {\n        return field.id === id;\n      });\n      if (fieldToRender && fieldToRender.visible) {\n        var processedChildren = _react2.default.Children.map(children, function (child) {\n          return _react2.default.cloneElement(child, _extends({\n            onFieldChange: onFieldChange,\n            onFieldFocus: onFieldFocus,\n            onFieldBlur: onFieldBlur\n          }, fieldToRender));\n        });\n        var description = fieldToRender.description,\n            _id = fieldToRender.id;\n\n        return _react2.default.createElement(\n          \"div\",\n          { className: \"layout\", id: _id },\n          processedChildren\n        );\n      }\n      return null;\n    }\n  }]);\n\n  return FieldWrapper;\n}(_react2.default.Component);\n\nexports.default = function (props) {\n  return _react2.default.createElement(\n    _FormContext2.default.Consumer,\n    null,\n    function (form) {\n      return _react2.default.createElement(\n        FieldWrapper,\n        _extends({}, form, props),\n        props.children\n      );\n    }\n  );\n};"]},"metadata":{},"sourceType":"script"}